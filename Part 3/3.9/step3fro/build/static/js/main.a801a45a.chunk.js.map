{"version":3,"sources":["components/filter.js","components/formaddperson.js","components/shownumbers.js","services/persons.js","components/notification.js","App.js","index.js"],"names":["Filter","_ref","value","handleFilterChange","react_default","a","createElement","onChange","FormAddPerson","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","ShowNumbers","persons","filter","removePerson","person","name","toLowerCase","includes","map","key","number","id","onClick","baseUrl","services_persons","getAll","axios","get","then","response","data","create","newPerson","post","remove","delete","concat","update","put","Notification","msg","className","App","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","setNotification","setState","notification","setTimeout","event","preventDefault","state","forEach","personService","window","confirm","newPersons","toConsumableArray","p","catch","error","target","getAttribute","toString","_this2","components_filter","formaddperson","shownumbers","React","Component","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.a801a45a.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Filter = ({ value, handleFilterChange }) => (\r\n  <div>rajaa näytettäviä\r\n    <input value={value}\r\n      onChange={handleFilterChange}/>\r\n  </div>\r\n);\r\n\r\nexport default Filter;","import React from 'react';\r\n\r\nconst FormAddPerson = ({\r\n    addPerson, newName, handleNameChange, newNumber, handleNumberChange\r\n  }) => (\r\n    <div>\r\n      <h3>Lisää uusi</h3>\r\n      <form onSubmit={addPerson}>\r\n        <div>\r\n          nimi: <input\r\n            value={newName}\r\n            onChange={handleNameChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          numero: <input\r\n            value={newNumber}\r\n            onChange={handleNumberChange}\r\n            />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">lisää</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n);\r\n\r\nexport default FormAddPerson;","import React from 'react';\r\n\r\nconst ShowNumbers = ({ persons, filter, removePerson }) => (\r\n  <div>\r\n    <h3>Numerot</h3>\r\n    <table>\r\n      <tbody>\r\n        {persons\r\n          .filter(person =>\r\n            person.name.toLowerCase().includes(filter.toLowerCase()))\r\n          .map(person =>\r\n            <tr key={person.name}>\r\n              <td>{person.name}</td>\r\n              <td>{person.number}</td>\r\n              <td>\r\n                <button\r\n                  name={person.name}\r\n                  id={person.id}\r\n                  onClick={removePerson}>\r\n                  poista\r\n                </button>\r\n              </td>\r\n            </tr>\r\n        )}\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n);\r\n\r\nexport default ShowNumbers;","import axios from 'axios';\r\n\r\nconst baseUrl = '/api/persons';\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst create = (newPerson) => {\r\n   const request = axios.post(baseUrl, newPerson);\r\n   return request.then(response => response.data);\r\n};\r\n\r\nconst remove = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst update = (id, newPerson) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newPerson);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nexport default { getAll, create, remove, update };","import React from 'react';\r\n\r\nconst Notification = ({ msg }) => {\r\n  if (msg === null) { return null; }\r\n  return (\r\n    <div className=\"notification\">{msg}</div>\r\n  );\r\n};\r\n\r\nexport default Notification;","import React from 'react';\nimport Filter from './components/filter.js';\nimport FormAddPerson from './components/formaddperson.js';\nimport ShowNumbers from './components/shownumbers.js';\nimport personService from './services/persons.js';\nimport Notification from './components/notification.js';\n\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      persons: [],\n      newName: '',\n      newNumber: '',\n      filter: '',\n      notification: null\n    }\n  };\n\n  componentDidMount() {\n    personService\n      .getAll()\n      .then(persons => this.setState({ persons: persons}));\n  };\n\n  setNotification = (msg) => {\n    this.setState({ notification: msg });\n    setTimeout(() => {\n      this.setState({ notification: null })\n    }, 5000);\n  };\n\n  addPerson = (event) => {\n    event.preventDefault();\n    const newPerson = {\n      name: this.state.newName,\n      number: this.state.newNumber\n    };\n    let id = -1;\n    this.state.persons.forEach(person =>\n        person.name === newPerson.name ? id = person.id : 0);\n    if (id === -1) {\n      personService\n        .create(newPerson)\n        .then(person => {\n          this.setState({\n            persons: this.state.persons.concat(person),\n            newName: '',\n            newNumber: ''\n          })\n        });\n        this.setNotification(`Lisättiin henkilö ${newPerson.name}.`);\n    } else {\n      if (window.confirm(`${newPerson.name} on jo luettelossa, korvataanko?`)) {\n        personService\n          .update(id, newPerson)\n          .then(person => {\n            const newPersons = [...this.state.persons];\n            newPersons.forEach(p => p.id === person.id ? p.number = person.number : 0);\n            this.setState({\n              persons: newPersons,\n              newName: '',\n              newNumber: ''\n            });\n            this.setNotification(`Muutettiin henkilön ${newPerson.name} numero.`);\n          })\n          .catch(error => {\n            this.setNotification(`Henkilö ${newPerson.name} on jo poistettu.`)\n            personService\n              .getAll()\n              .then(persons => this.setState({\n                persons: persons,\n                newName: '',\n                newNumber: ''\n              }));\n          });\n      };\n    };\n  };\n\n  removePerson = (event) => {\n    const id = event.target.getAttribute(\"id\");\n    const name = event.target.getAttribute(\"name\");\n    if (window.confirm(`Poistetaanko ${name}?`)) {\n      personService\n        .remove(id)\n        .then(person => {\n          this.setState({\n            persons:\n              this.state.persons.filter(person => person.id.toString() !== id)\n            });\n          this.setNotification(`Poistettiin henkilö ${name}.`);\n          })\n        .catch(error => {\n          this.setNotification(`Henkilö ${name} on jo poistettu.`)\n          personService\n            .getAll()\n            .then(persons => this.setState({\n              persons: persons,\n              newName: '',\n              newNumber: ''\n            }));\n        });\n    };\n  };\n\n  handleNameChange = (event) => {\n    this.setState({ newName: event.target.value });\n  };\n  handleNumberChange = (event) => {\n    this.setState({ newNumber: event.target.value });\n  };\n  handleFilterChange = (event) => {\n    this.setState({ filter: event.target.value });\n  };\n\n  render() {\n    return (\n      <div>\n        <h2>Puhelinluettelo</h2>\n        <Notification msg={this.state.notification} />\n        <Filter value={this.state.filter}\n          handleFilterChange={this.handleFilterChange} />\n        <FormAddPerson addPerson={this.addPerson}\n          newName={this.state.newName}\n          handleNameChange={this.handleNameChange}\n          newNumber={this.state.newNumber}\n          handleNumberChange={this.handleNumberChange} />\n        <ShowNumbers persons={this.state.persons}\n          filter={this.state.filter}\n          removePerson={this.removePerson} />\n      </div>\n    )\n  };\n};\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n\n"],"sourceRoot":""}